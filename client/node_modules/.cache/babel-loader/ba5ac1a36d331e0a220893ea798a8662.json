{"ast":null,"code":"import _objectSpread from \"C:/Users/natha/Desktop/Bootcamp Assignments/brew-notes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/natha/Desktop/Bootcamp Assignments/brew-notes/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\natha\\\\Desktop\\\\Bootcamp Assignments\\\\brew-notes\\\\client\\\\src\\\\pages\\\\Notes\\\\Notes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport API from '../../utils/API';\nimport './Notes.css';\nimport NoteModal from '../../components/NoteModal/NoteModal'; // import Form from '../../components/Form/Form';\n\nfunction Notes(_ref) {\n  _s();\n\n  var _this = this;\n\n  var favoritesPage = _ref.favoritesPage;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      notes = _useState2[0],\n      setNotes = _useState2[1];\n\n  var _useState3 = useState({\n    isOpen: false,\n    note: null,\n    editingNote: false\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      modalProps = _useState4[0],\n      setModalProps = _useState4[1];\n\n  function loadNotes() {\n    console.log('load notes, favorite:', favoritesPage);\n    API.getAllNotes(favoritesPage).then(function (res) {\n      if (res.data.notes) {\n        setNotes(res.data.notes);\n        console.log('loaded notes', res.data.notes);\n      }\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  useEffect(function () {\n    loadNotes();\n  }, []);\n  useEffect(function () {\n    setNotes([]);\n    loadNotes();\n  }, [favoritesPage]);\n\n  function favoriteNote(e, note) {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log('favorite', note);\n    API.updateNote(note._id, {\n      favorite: !note.favorite\n    }).then(function (res) {\n      return console.log(res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n    loadNotes();\n  }\n\n  function deleteNote(e, note) {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log('delete', note);\n    API.deleteNote(note._id).then(function (res) {\n      return console.log(res);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n    loadNotes();\n  }\n\n  function newNote() {\n    setModalProps({\n      isOpen: true,\n      note: {},\n      editingNote: false\n    });\n  }\n\n  function editNote(note) {\n    setModalProps({\n      isOpen: true,\n      note,\n      editingNote: true\n    });\n  }\n\n  function closeModal() {\n    setModalProps({\n      isOpen: false,\n      note: null,\n      editingNote: false\n    });\n    loadNotes();\n  }\n\n  var renderNote = function renderNote(note) {\n    var createdAt = note.createdAt,\n        title = note.title,\n        favorite = note.favorite,\n        beans = note.beans,\n        method = note.method,\n        grind = note.grind,\n        temp = note.temp,\n        time = note.time,\n        description = note.description;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      onClick: function onClick() {\n        return editNote(note);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: new Date(createdAt || '').toDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Method: \", method]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: favorite ? \"btn btn-success\" : \"btn btn-outline-success\",\n                onClick: function onClick(e) {\n                  return favoriteNote(e, note);\n                },\n                children: \"Favorite\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-outline-danger\",\n                onClick: function onClick(e) {\n                  return deleteNote(e, note);\n                },\n                children: \"x\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, _this)\n    }, createdAt, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, _this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [favoritesPage ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Saved Notes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"addNoteBtn\",\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-secondary btn-lg\",\n          onClick: newNote,\n          children: \"Add new entry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), notes.map(renderNote), /*#__PURE__*/_jsxDEV(NoteModal, _objectSpread(_objectSpread({}, modalProps), {}, {\n      closeModal: closeModal\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Notes, \"5CzHoaniTJIyY8cS461p+UEKeN8=\");\n\n_c = Notes;\nexport default Notes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notes\");","map":{"version":3,"sources":["C:/Users/natha/Desktop/Bootcamp Assignments/brew-notes/client/src/pages/Notes/Notes.js"],"names":["React","useEffect","useState","API","NoteModal","Notes","favoritesPage","notes","setNotes","isOpen","note","editingNote","modalProps","setModalProps","loadNotes","console","log","getAllNotes","then","res","data","catch","err","favoriteNote","e","preventDefault","stopPropagation","updateNote","_id","favorite","deleteNote","newNote","editNote","closeModal","renderNote","createdAt","title","beans","method","grind","temp","time","description","Date","toDateString","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../../utils/API';\nimport './Notes.css';\nimport NoteModal from '../../components/NoteModal/NoteModal';\n// import Form from '../../components/Form/Form';\n\nfunction Notes({\n  favoritesPage,\n}) {\n\n  const [notes, setNotes] = useState([]);\n  const [modalProps, setModalProps] = useState({\n    isOpen: false,\n    note: null,\n    editingNote: false,\n  });\n\n  function loadNotes() {\n    console.log('load notes, favorite:', favoritesPage);\n    API.getAllNotes(favoritesPage)\n      .then((res) => {\n        if (res.data.notes) {\n          setNotes(res.data.notes);\n          console.log('loaded notes', res.data.notes);\n        }\n      })\n      .catch(err => console.log(err))\n  }\n\n  useEffect(() => {\n    loadNotes();\n  }, []);\n\n  useEffect(() => {\n    setNotes([]);\n    loadNotes();\n  }, [favoritesPage]);\n\n  function favoriteNote(e, note) {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log('favorite', note);\n    API.updateNote(note._id, {\n      favorite: !note.favorite,\n    })\n    .then(res => console.log(res))\n    .catch(err => console.log(err))\n    loadNotes();\n  }\n\n  function deleteNote(e, note) {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log('delete', note);\n    API.deleteNote(note._id)\n    .then(res => console.log(res))\n    .catch(err => console.log(err))\n    loadNotes();\n  }\n\n  function newNote() {\n    setModalProps({\n      isOpen: true,\n      note: {},\n      editingNote: false,\n    });\n  }\n\n  function editNote(note) {\n    setModalProps({\n      isOpen: true,\n      note,\n      editingNote: true,\n    });\n  }\n\n  function closeModal() {\n    setModalProps({\n      isOpen: false,\n      note: null,\n      editingNote: false,\n    });\n    loadNotes();\n  }\n\n  const renderNote = (note) => {\n    const { createdAt, title, favorite, beans, method, grind, temp, time, description } = note;\n    return (\n      <div className=\"card\" onClick={() => editNote(note)} key={createdAt}>\n        <div className=\"card-body\">\n          <div className='row justify-content-between'>\n            <div>\n              <h5>{new Date(createdAt || '').toDateString()}</h5>\n              <h6>{title}</h6>\n              <p>Method: {method}</p>\n            </div>\n            <div>\n              <div className='btn-group'>\n                <button type=\"button\" className={favorite ? \"btn btn-success\" : \"btn btn-outline-success\"} onClick={(e) => favoriteNote(e, note)}>Favorite</button>\n                <button type=\"button\" className=\"btn btn-outline-danger\" onClick={(e) => deleteNote(e, note)}>x</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className='container'>\n      {favoritesPage ? \n      <div className='row justify-content-center'>\n        <h2>Favorites</h2>\n      </div>\n       : \n      <div>\n        <div className='row justify-content-center'>\n          <h2>Saved Notes</h2>\n        </div>\n        <div id='addNoteBtn' className='row justify-content-center'>\n          <button type=\"button\" className=\"btn btn-secondary btn-lg\" onClick={newNote}>Add new entry</button>\n        </div>\n      </div>\n      }\n      {notes.map(renderNote)}\n      <NoteModal {...modalProps} closeModal={closeModal} />\n    </div>\n  )\n}\n\nexport default Notes;"]},"metadata":{},"sourceType":"module"}